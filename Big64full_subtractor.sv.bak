`timescale 1ns/10ps

module Big64full_subtractor(a, b, cout, difference);
	input logic [63:0] a, b;
	output logic [63:0] cout, difference;
	parameter delay = 0;
	
	full_adder halfSubtractor(.a(a[0]), .b(b[0]), .cin(1'b0), .difference(difference[0]), .cout(cout[0]));
	
	genvar i;
	generate
		for (i=1; i<64; i++) begin : each
			full_subtractor fullsubtractor(.a(a[i]), .b(b[i]), .cin(cout[i - 1]), .cout(cout[i]), .difference(difference[i]));
		end
	endgenerate
endmodule

module Big64full_subtractor_testbench();
	logic [63:0] cout, difference;
	logic [63:0] cin, a, b;
	parameter delay = 100; // wait for gate delays
	
	Big64full_adder dut (.a, .b, .cout, .difference);
	integer j, k;

	 initial begin
		
		for (j=0; j <= 100; j+=10) begin
			a = j;
			for (k=0; k < 100; k++) begin
				b = k; #delay;
			end
		end
	 end
endmodule