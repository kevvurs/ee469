`timescale 1ns/10ps

module full_subtractor(cin, a, b, cout, difference);
	output logic cout, difference;
	input logic cin, a, b;
	parameter delay = 5;

	logic differenceNoCarry, cinCheck, inputCarryCheck;
	
	and #delay inputCheck (inputCarryCheck, a, b);
	and #delay cinCheckGate (cinCheck, cin, differenceNoCarry);
	xor #delay addAB (differenceNoCarry, a, b);
	xor #delay result (difference, cin, differenceNoCarry);
	or #delay (cout, cinCheck, inputCarryCheck);
	
	
endmodule

module full_subtractor_testbench();
	logic cout, difference;
	logic cin, a, b;

	full_adder dut (cin, a, b, cout, difference);
	integer i;

 initial begin
	
	for (i=0; i<8; i++) begin
		{cin, a, b} = i; #10;
	end
 end
endmodule
